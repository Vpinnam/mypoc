<script>
$(document).ready(function () {	
  initializeStepWizard();
	
  var navListItems = $('div.setup-panel div a'),
          allWells = $('.setup-content'),
          allNextBtn = $('.nextbtn');

  allWells.hide();

  navListItems.click(function (e) {
      e.preventDefault();
      var $target = $($(this).attr('href')),
              $item = $(this);

      if (!$item.hasClass('disabled')) {
          navListItems.removeClass('btn-primary').addClass('btn-default');
          $item.addClass('btn-primary');
          allWells.hide();
          $target.show();
          $target.find('input:eq(0)').focus();
      }
  });

  $("#stepContentForm").on("click", function(e) {
  	onStepContentFormClick(e);
  });
  
  $(".stepwizard").on("click", function(e) {
  	onStepWizardClick(e);
  });
  
  allNextBtn.on(function(){
      var curStep = $(this).closest(".setup-content"),
          curStepBtn = curStep.attr("id"),
          nextStepWizard = $('div.setup-panel div a[href="#' + curStepBtn + '"]').parent().next().children("a"),
          curInputs = curStep.find("input[type='text'],input[type='url']"),
          isValid = true;

      $(".form-group").removeClass("has-error");
      for(var i=0; i<curInputs.length; i++){
          if (!curInputs[i].validity.valid){
              isValid = false;
              $(curInputs[i]).closest(".form-group").addClass("has-error");
          }
      }

      if (isValid)
          nextStepWizard.removeAttr('disabled').trigger('click');
		  onNextButtonClick($(this));
	});
	
	$('div.setup-panel div a.btn-primary').trigger('click');

});

</script>

<script id="stepwizard-step-template" type="text/html">
      <div class="stepwizard-step">
        <a href="#" type="button" class="btn btn-default btn-circle" name="btnSolutionTemplateSteps">${quesSeqId}</a>
        <p>${mydesc}</p>
      </div>
</script>

<script id="stepwizard-step-template-content-radio" type="text/x-jquery-tmpl">
<div class="row setup-content" id="step-${quesSeqId}">
    <div class="col-sm-11 col-sm-offset-1 ">
		&nbsp;
	</div>
	<div class="col-sm-offset-1 col-sm-3">
		${quesDesc}
	</div>
	<div class="col-sm-6 col-sm-offset-2">
		{{each salesSolTmplAns}}
			<!-- <div class="row"> -->
				<div class="col-sm-3 radio">
					<input type="radio" value="${ansDesc}" name="${quesColName}">${ansDesc}
				</div>
			<!-- </div> -->
		{{/each}}	
	</div>
	<div class="clearfix"></div>	
</div>
<div class="row">
	<hr>
	<div class="col-sm-1 col-sm-offset-1">
		{{if quesSeqId == 1}}
			<button class="btn btn-primary btn-block nextbtn" type="button" id="btnPrev-${quesSeqId}" disabled="disabled">Prev</button>
	    {{else}}
			<button class="btn btn-primary btn-block nextbtn" type="button" id="btnPrev-${quesSeqId}">Prev</button>
        {{/if}}
	</div>
	<div class="col-sm-1  col-sm-offset-8">
		{{if quesSeqId == numberOfQuestion}}
			<button class="btn btn-primary btn-block nextbtn" type="button" id="btnNext-${quesSeqId}" disabled="disabled">Next</button>
		{{else}}
			<button class="btn btn-primary btn-block nextbtn" type="button" id="btnNext-${quesSeqId}">Next</button>
        {{/if}}
	</div>
</div>
</script>

<script id="stepwizard-step-template-content-dropdown" type="text/html">
<div class="row setup-content" id="step-${quesSeqId}">
    <div class="col-sm-11 col-sm-offset-1 ">
		&nbsp;
	</div>
	<div class="col-sm-offset-1 col-sm-4">
		${quesDesc}
	</div>
	<div class="col-sm-2 col-sm-offset-1">
					<select id="solTmpl-${quesColName}" name="${quesColName}" class="form-control" >
							<option value="">select</option>
						{{each salesSolTmplAns}}
							<option value="${ansDesc}">${ansDesc}</option>
					    {{/each}}	
					</select>
	</div>
	<div class="clearfix"></div>	
</div>
<div class="row">
	<hr>
	<div class="col-sm-1 col-sm-offset-1">
		{{if quesSeqId == 1}}
			<button class="btn btn-primary btn-block nextbtn" type="button" id="btnPrev-${quesSeqId}" disabled="disabled">Prev</button>
	    {{else}}
			<button class="btn btn-primary btn-block nextbtn" type="button" id="btnPrev-${quesSeqId}">Prev</button>
        {{/if}}
	</div>
	<div class="col-sm-1  col-sm-offset-8">
		{{if quesSeqId == numberOfQuestion}}
			<button class="btn btn-primary btn-block nextbtn" type="button" id="btnNext-${quesSeqId}" disabled="disabled">Next</button>
		{{else}}
			<button class="btn btn-primary btn-block nextbtn" type="button" id="btnNext-${quesSeqId}">Next</button>
        {{/if}}
	</div>
</div>
</script>

<script id="stepwizard-step-template-content-checkbox" type="text/x-jquery-tmpl">
<div class="row setup-content" id="step-${quesSeqId}">
    <div class="col-sm-11 col-sm-offset-1 ">
		&nbsp;
	</div>
	<div class="col-sm-offset-1 col-sm-3">
		${quesDesc}
	</div>
	<div class="col-sm-6 col-sm-offset-2">
		{{each salesSolTmplAns}}
			<!-- <div class="row"> -->
				<div class="col-sm-3 radio">
					<input type="checkbox" value="${ansDesc}" name="${quesColName}">${ansDesc}
				</div>
			<!-- </div> -->
		{{/each}}	
	</div>
	<div class="clearfix"></div>	
</div>
<div class="row">
	<hr>
	<div class="col-sm-1 col-sm-offset-1">
		{{if quesSeqId == 1}}
			<button class="btn btn-primary btn-block nextbtn" type="button" id="btnPrev-${quesSeqId}" disabled="disabled">Prev</button>
	    {{else}}
			<button class="btn btn-primary btn-block nextbtn" type="button" id="btnPrev-${quesSeqId}">Prev</button>
        {{/if}}
	</div>
	<div class="col-sm-1  col-sm-offset-8">
		{{if quesSeqId == numberOfQuestion}}
			<button class="btn btn-primary btn-block nextbtn" type="button" id="btnNext-${quesSeqId}" disabled="disabled">Next</button>
		{{else}}
			<button class="btn btn-primary btn-block nextbtn" type="button" id="btnNext-${quesSeqId}">Next</button>
        {{/if}}
	</div>
</div>
</script>

<script id="stepwizard-step-template-content-finalresult" type="text/x-jquery-tmpl">
<div class="row setup-content" id="step-${quesSeqId}">
    <div class="col-sm-2 col-sm-offset-6">
		<h3><u>Final Result</u></h3>
	</div>
</div>
<div class="row">
	<hr>
	<div class="col-sm-1 col-sm-offset-1">
		{{if quesSeqId == 1}}
			<button class="btn btn-primary btn-block nextbtn" type="button" id="btnPrev-${quesSeqId}" disabled="disabled">Prev</button>
	    {{else}}
			<button class="btn btn-primary btn-block nextbtn" type="button" id="btnPrev-${quesSeqId}">Prev</button>
        {{/if}}
	</div>
	<div class="col-sm-1  col-sm-offset-8">
	</div>
</div>
</script>

<script id="stepwizard-display-selected-row-modal" type="text/html">
<div class="row" id="displaySelectedRowModal">
	<!-- Trigger the modal with a button -->
	<button type="button" id="btnDisplayRowSelectModal"
		style="display: none;" class="btn btn-primary" data-toggle="modal"
		data-target="#dispRowSelectModal">Open Modal</button>
	<!-- Modal -->
	<div class="modal fade" id="dispRowSelectModal" role="dialog">
		<div class="modal-dialog" style="left:-7.0%;">
			<!-- Modal content-->
			<div class="modal-content" style="width:800px;">
				<div class="modal-header" style="text-align:center">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Contract Data Preview</h4>
				</div>
				<div class="modal-body">
					<h4>Design Parameters</h4>
					<table class="table table-striped">
						{{each(i, item) $data}}
						<tr>
							<td> ${i} </td>
							<td> ${item} </td>
						</tr>
						{{/each}}
					</table>
					<hr>
					<h4>Customer Legal Info</h4>
					<table class="table table-striped">
							<tr>
								<td>LEGAL NAME</td>
								<td>Michael Rodrigues</td>
							</tr>
							<tr>
								<td>STREET ADDRESS</td>
								<td>123, Race street</td>
							</tr>
							<tr>
								<td>CITY</td>
								<td>Philadelphia</td>
							</tr>
							<tr>
								<td>STATE</td>
								<td>PA</td>
							</tr>
							<tr>
								<td>POSTAL CODE</td>
								<td>19301</td>
							</tr>
					</table>
				   </div>
				<div class="modal-footer" style="text-align:center">
					<button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
					<input type="button" class="btn btn-primary" data-dismiss="modal" id="btnModalGenContract" value="Proceed To Generate Contract" onclick="onClickProceedToGenContract();">
				</div>
			</div>
		</div>
	</div>
</div>
</script>

<script id="stepwizard-display-contract-data" type="text/html">
<div class="container">
<h4>Design Info</h4>
<table class="table table-striped">
	{{each(i, item) $data}}
		<tr>
			<td> ${i} </td>
			<td> ${item} </td>
		</tr>
	{{/each}}
</table>
<form class="form-inline">
  <h4>Credit And Customer Info</h4>
  <br/>
  <div class="panel panel-default">
  <div class="panel-heading">Customer Legal Info</div>
  <div class="panel-body">
	<div class="row">
    <div class="col-sm-1">
      <label for="name">Name:</label>
    </div>
    <div class="col-sm-2">
      <input type="name" class="form-control" id="legalName" placeholder="Josh Rodriguez">
    </div>
	<div class="col-sm-1"></div> 
    <div class="col-sm-1">
      <label for="city">City:</label>
    </div>
    <div class="col-sm-2">
      <input type="city" class="form-control" id="city" placeholder="Philadelphia">
    </div>
	<div class="col-sm-1"></div>
	<div class="col-sm-1">
      <label for="email">Country:</label>
    </div>
    <div class="col-sm-2">
      <input type="country" class="form-control" id="country" placeholder="USA">
    </div>
 	</div>
	<div class="row" style="margin-top:5px;">
    <div class="col-sm-1">
      <label for="sAddress">Address:</label>
    </div>
    <div class="col-sm-2">
      <input type="address" class="form-control" id="sAddress" placeholder="123 Race St">
    </div>
	<div class="col-sm-1"></div> 
    <div class="col-sm-1">
      <label for="state">State:</label>
    </div>
    <div class="col-sm-2">
      <input type="state" class="form-control" id="state" placeholder="Pennsylvania">
    </div>
	<div class="col-sm-1"></div>
	<div class="col-sm-1">
      <label for="zipcode">Zipcode:</label>
    </div>
    <div class="col-sm-2">
      <input type="zipcode" class="form-control" id="zipcode" placeholder="19301">
    </div>
 	</div>
  </div>
</div>
<div class="panel panel-default" style="margin-top:10px;">
  <div class="panel-heading">AT&T Sales Contact Info</div>
  <div class="panel-body">
	<div class="row">
    <div class="col-sm-1">
      <label for="name">Name:</label>
    </div>
    <div class="col-sm-2">
      <input type="name" class="form-control" id="salesName" placeholder="Josh Rodriguez">
    </div>
	<div class="col-sm-1"></div> 
    <div class="col-sm-1">
      <label for="city">Country:</label>
    </div>
    <div class="col-sm-2">
      <input type="city" class="form-control" id="city" placeholder="USA">
    </div>
	<div class="col-sm-1"></div>
	<div class="col-sm-1">
      <label for="email">Manager:</label>
    </div>
    <div class="col-sm-2">
      <input type="country" class="form-control" id="country" placeholder="Chris Michael">
    </div>
 	</div>
	<div class="row" style="margin-top:5px;">
    <div class="col-sm-1">
      <label for="sAddress">Address:</label>
    </div>
    <div class="col-sm-2">
      <input type="address" class="form-control" id="sAddress" placeholder="123 Race St">
    </div>
	<div class="col-sm-1"></div> 
    <div class="col-sm-1">
      <label for="state">Telephone:</label>
    </div>
    <div class="col-sm-2">
      <input type="state" class="form-control" id="state" placeholder="484-558-0189">
    </div>
	<div class="col-sm-1"></div>
	<div class="col-sm-1">
      <label for="zipcode">Strata:</label>
    </div>
    <div class="col-sm-2">
      <input type="zipcode" class="form-control" id="zipcode" placeholder="FED">
    </div>
 	</div>
	<div class="row" style="margin-top:5px;">
    <div class="col-sm-1">
      <label for="sAddress">City:</label>
    </div>
    <div class="col-sm-2">
      <input type="address" class="form-control" id="sAddress" placeholder="Philadelphia">
    </div>
	<div class="col-sm-1"></div> 
    <div class="col-sm-1">
      <label for="state">Fax:</label>
    </div>
    <div class="col-sm-2">
      <input type="state" class="form-control" id="state" placeholder="484-447-8879">
    </div>
	<div class="col-sm-1"></div>
	<div class="col-sm-1">
      <label for="zipcode">Region:</label>
    </div>
    <div class="col-sm-2">
      <input type="zipcode" class="form-control" id="zipcode" placeholder="US">
    </div>
 	</div>
  </div>
</div>
 <div class="row" >
	<div class="col-sm-offset-5">
		<input type="button" class="btn btn-primary" value="Generate Contract">	
	</div>
  </div>
</script>



<input type="hidden" name="numberOfQuestion" />

<div class="row">
	<div class="col-sm-12">
		<label>Please configure parameters for selection</label>
	</div>
</div>

<div class="stepwizard">
	<div class="stepwizard-row setup-panel" id="stepWizardId"></div>
</div>

<div id="stepContentForm">
	<form role="form" action="" method="post" class="form-horizontal"
		id="formId"></form>
</div>


